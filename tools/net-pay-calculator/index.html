<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Shared head -->
  <script>
    fetch('/templates/head.html')
      .then(r => r.text())
      .then(html => document.head.insertAdjacentHTML('beforeend', html));
  </script>

  <title>Net Pay Calculator ‚Äì PaycheckTools</title>
  <meta name="description" content="Calculate your net pay after federal and state taxes.">
  <link rel="canonical" href="https://paychecktools.com/tools/net-pay-calculator/">
  <link rel="stylesheet" href="/css/styles.css">
</head>

<body>

<!-- Header -->
<div id="site-header"></div>
<script>
  fetch('/templates/header.html')
    .then(r => r.text())
    .then(html => document.getElementById('site-header').innerHTML = html);
</script>

<main class="tool-container">

  <!-- Calculator -->
  <section class="calculator">
    <h1>Net Pay Calculator</h1>

    <label>
      Gross Pay:
      <input id="grossPay" type="number" value="5000">
    </label>

    <label>
      Pay Frequency:
      <select id="frequency">
        <option value="weekly">Weekly</option>
        <option value="biweekly">Biweekly</option>
        <option value="semimonthly">Semimonthly</option>
        <option value="monthly" selected>Monthly</option>
        <option value="yearly">Yearly</option>
      </select>
    </label>

    <label>
      Federal Tax (%):
      <input id="taxFederal" type="number" value="12">
    </label>

    <label>
      State Tax (%):
      <input id="taxState" type="number" value="5">
    </label>

    <button id="calculateBtn" class="primary-btn">Calculate</button>

    <div id="output" class="result-box" style="display:none;">
      <p>Net Pay: <strong><span id="netPay"></span></strong></p>
    </div>
  </section>

  <!-- Feedback (inline, not loaded) -->
  <section id="feedback-box" class="feedback-box" style="display:none;">
    <p><strong>Was this result helpful?</strong></p>

    <div class="feedback-actions">
      <button data-vote="yes">üëç Yes</button>
      <button data-vote="no">üëé No</button>
    </div>

    <div id="no-reason-box" style="display:none;">
      <p>Please tell us why:</p>
      <label><input type="radio" name="no-reason" value="wrong_calculation"> Calculation seems wrong</label>
      <label><input type="radio" name="no-reason" value="unclear_result"> Result is unclear</label>
      <label><input type="radio" name="no-reason" value="missing_option"> Missing option</label>
      <label><input type="radio" name="no-reason" value="ui_confusing"> UI is confusing</label>
      <button id="feedback-submit" class="secondary-btn">Submit Feedback</button>
    </div>

    <div id="feedback-status"></div>
  </section>

</main>

<!-- Footer -->
<div id="site-footer"></div>
<script>
  fetch('/templates/footer.html')
    .then(r => r.text())
    .then(html => document.getElementById('site-footer').innerHTML = html);
</script>

<!-- Core calculation -->
<script src="/js/calculator-core.js"></script>

<!-- Feedback logic -->
<script src="/js/feedback.js"></script>

<script>
  document.getElementById('calculateBtn').addEventListener('click', () => {
    const gross = Number(document.getElementById('grossPay').value);
    const frequency = document.getElementById('frequency').value;
    const federal = Number(document.getElementById('taxFederal').value);
    const state = Number(document.getElementById('taxState').value);

    const result = calculateNetFromGross({
      gross,
      frequency,
      taxes: { federal, state }
    });

    document.getElementById('netPay').innerText = result.netPay.toFixed(2);
    document.getElementById('output').style.display = 'block';

    // trigger feedback
    document.dispatchEvent(new Event('calculator:result-ready'));
  });
</script>

</body>
</html>
