<!DOCTYPE html>
<html>
<body>
<button id="vote-yes">Yes</button>
<button id="vote-no">No</button>
<div id="status"></div>

<script>
const workerUrl = "https://paychecktools-feedback.zhouqiext.workers.dev";
const pageSlug = "/tools/test-page";

document.getElementById("vote-yes").onclick = () => sendVote("yes");
document.getElementById("vote-no").onclick = () => sendVote("no");

async function sendVote(vote) {
  const status = document.getElementById("status");
  status.textContent = "Submitting...";
  try {
    const res = await fetch(workerUrl, {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
        "Origin": "https://paychecktools.com"
      },
      body: JSON.stringify({ page: pageSlug, vote })
    });
    const data = await res.json();
    status.textContent = data.success ? `Vote submitted! Yes:${data.yes} No:${data.no}` : data.message;
  } catch(e) {
    status.textContent = "Failed to submit vote. Please try again.";
    console.error(e);
  }
}
</script>
</body>
</html>
